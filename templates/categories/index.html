{% extends "base.html" %}

{% block title %}Equipment Categories | kFleet{% endblock %}
{% block heading %}Equipment Categories{% endblock %}
{% block action_button %}
<a href="/categories/new" class="btn-primary px-4 py-2 rounded-lg text-white flex items-center transition-all hover:shadow-md">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
    </svg>
    Add Category
</a>
{% endblock %}

{% block content %}
<div class="guide-card overflow-hidden">
    {% if categories | length > 0 %}
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-700">
            <thead class="bg-slate-600/50">  <!-- Updated to slate -->
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Name</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Equipment Count</th>
                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider">Actions</th>
                </tr>
            </thead>
            <tbody class="bg-slate-600/30 divide-y divide-gray-700">  <!-- Updated to slate -->
                {% for category in categories %}
                <tr class="hover:bg-gray-700/50 transition-colors">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-white">{{ category.name }}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-400">{{ category.equipment_count }}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <a href="/categories/{{ category.id }}/edit" class="text-accent hover:text-accent/80 mr-3">Edit</a>
                        <form action="/categories/{{ category.id }}/delete" method="post" class="inline">
                            <button type="submit" class="text-red-400 hover:text-red-300 transition-colors" 
                                    onclick="return confirm('Delete this category?')">Delete</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="text-center py-12">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
        </svg>
        <h3 class="mt-2 text-sm font-medium text-white">No categories</h3>
        <p class="mt-1 text-sm text-gray-400">Get started by adding a new equipment category.</p>
        <div class="mt-6">
            <a href="/categories/new" class="btn-primary inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg text-white">
                Add Category
            </a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}

